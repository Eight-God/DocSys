
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="author" content="Rainy" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="renderer" content="webkit" />
    <link rel="shortcut icon"  href="static/SmartWiki/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0">

    <title>Repository-MxsDoc</title>
    <link href="css/logo/logo.css" rel="stylesheet">
    <!-- BootStarp CSS -->
    <link href="static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- bootStrapQ -->
	<link href="static/bootstrapQ/qiao.css" rel="stylesheet">
    <link href="static/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="static/highlight/styles/default.css" rel="stylesheet">
    <link href="static/highlight/styles/zenburn.css" rel="stylesheet">
    <link href="static/fonts/font.css" rel="stylesheet">
    <link href="static/zTree/css/metroStyle/standardStyle.css" rel="stylesheet" id="zTreeCss">
    <link href="static/nprogress/nprogress.css" rel="stylesheet">
    <link href="static/styles/kancloud.css" rel="stylesheet">

	<!-- contextMenu -->
	<link rel="stylesheet" type="text/css" href="static/ContextJS/css/demo.css">
	<link rel="stylesheet" type="text/css" href="static/ContextJS/css/context.standalone.css">
	<link rel="stylesheet" type="text/css" href="css/upload-css.css">
	<link rel="stylesheet" type="text/css" href="css/download-css.css">
	<!-- FreeTeam CSS-->
	<link rel="stylesheet" href="static/freeTeam/css/resetV2.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="static/freeTeam/css/boot-css/bootstrap.custom.css" type="text/css" media="screen" />
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link href="static/swiper/swiper.min.css" rel="stylesheet">
	
	<!-- video.js -->
	<link href="static/video-js/video-js.min.css" rel="stylesheet">

	<!-- jplayer.js -->	
    <link href="static/jPlayer/dist/skin/blue.monday/css/jplayer.blue.monday.min.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="static/jPlayer/dist/jplayer/jquery.jplayer.min.js"></script>

	<!-- artDialog.js -->	
	<link rel="stylesheet" href="css/artDialog.css">
     <style type="text/css">
     	html {
			overflow-x: hidden;
			overflow-y: hidden;
		}

        .editor-content table thead tr {
            color: #111111 !important;
        }
        .manual-mask{
	        position: absolute;
		    left: 0;
		    right: 0;
		    background: #fafafa;
		    top: 0;
		    bottom: 0;
		    z-index: 19;
		    opacity: 0.5;
		    display:none;
        }

        .uploadFileName, .downloadFileName{
        	cursor: text;
        }
        .reuploadAllBtn, .redownloadAllBtn{
        	position:absolute;
        	top:15px;
        	right:50px;
        	font-size:13px;
        	cursor: pointer;
        }

        .reuploadBtn, .redownloadBtn{
        	position:absolute;
        	top:0px;
        	right:50px;
        	font-size:13px;
        	cursor: pointer;
        }

        .downloadStatus{
        	position:absolute;
        	top:0px;
        	right:50px;
        	font-size:13px;
        	cursor: pointer;
        }

    	.disallowcopy{-moz-user-select: none;
			-khtml-user-select: none;
			-webkit-user-select: none;
			user-select: none;
		}

		/* 调整zTree每行的高度 */
		.ztree li a {
            /*height: 25px !important;*/
            width: 100% !important;
        }
        .ztree li .caret {
            margin-top: 8px !important;
        }
    </style>

    <style>
        /* 强制不换行 */
        .nowrap{white-space:nowrap;}
        /* 允许单词内断句，首先会尝试挪到下一行，看看下一行的宽度够不够，不够的话就进行单词内的断句 */
        .breakword{word-wrap: break-word;}
        /* 断句时，不会把长单词挪到下一行，而是直接进行单词内的断句 */
        .breakAll{word-break:break-all;}
        /* 超出部分显示省略号 */
        .ellipsis{text-overflow:ellipsis;overflow:hidden;}
    </style>

    <style type="text/css">
        /*自定义左右键悬浮变色*/
        .swiper-container div[aria-disabled='false']:hover {
            color: #fa0 !important;
        }
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="static/bootstrap/js/html5shiv.min.js"></script>
    <script src="static/bootstrap/js/respond.min.js"></script>
    <![endif]-->
    <script src="static/artDialog/lib/jquery-1.10.2.js" type="text/javascript"></script>

	<script src="static/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="static/bootstrapQ/qiao.js" type="text/javascript"></script>
    <script src="static/pdfjs/build/pdf.js"></script>
    <script src="static/pdfjs/build/pdf.worker.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
	<script type="text/javascript" src="static/layer/layer.js"></script>
	<script type="text/javascript" src="static/nprogress/nprogress.js"></script>
	<script type="text/javascript" src="static/highlight/highlight.js"></script>
	<script type="text/javascript" src="static/highlight/highlightjs-line-numbers.min.js"></script>
	<script type="text/javascript" src="js/logon.js"></script>
	<script type="application/javascript" src="static/scripts/jsonEscape.js"></script>
	<!-- zTree -->
	<script type="text/javascript" src="static/zTree/js/jquery.ztree.all.min.js"></script>
	<!-- For ajax form submit -->
	<script  type="text/javascript" src="static/scripts/jquery.form.js"></script>
	<!-- context.js -->
	<script type="text/javascript" src="static/ContextJS/js/context.js"></script>

	<!-- DocSys Utils class -->
	<script type="text/javascript" src="js/DragUpload.js"></script>
	<script type="text/javascript" src="js/base64.js"></script>
	<script type="text/javascript" src="static/js-spark-md5/spark-md5.min.js"></script>

	<!-- video.js -->
	<script src="static/video-js/video.js"></script>
    
    <!-- artDialog -->
	<script src="static/artDialog/dist/dialog.js"></script>
	<script src="static/artDialog/dist/dialog-plus.js"></script>
	<script src="js/artDialog.js"></script>

	<!-- DocSys class -->
	<script type="text/javascript" src="js/common.js"></script>
	<script type="text/javascript" src="js/DocSys.js"></script>
	<script type="text/javascript" src="js/DocDownload.js"></script>
	<script type="text/javascript" src="js/DocUpload.js"></script>
	<script type="text/javascript" src="js/DocDelete.js"></script>
	<script type="text/javascript" src="js/DocCopy.js"></script>
	<script type="text/javascript" src="js/DocMove.js"></script>
	<script type="text/javascript" src="js/DocHistoryDetail.js"></script>
	<script type="text/javascript" src="js/VDocEditor.js"></script>
	<script type="text/javascript" src="lang/en.js"></script>
    <script type="text/javascript">
    	//这里的接口会在body元素加载时被调用，因此需要放到header这里
	    function FileLogoErrHandler()
		{
			console.log("FileLogoErrHandler");
			$("#fileLogo").attr('src',"images/file_icon/icon_file/file.png");
		}

		function FileImgErrHandler()
		{
			console.log("FileImgErrHandler");
			$("#imgPreview").attr('src',"images/file_icon/icon_file/file.png");
		}
    </script>
</head>
<body class="-webkit-overflow-scrolling:touch;">							
<div class="m-manual manual-reader">
    <header class="navbar navbar-static-top  smart-nav navbar-fixed-top" role="banner" style="z-index:300">
        <div class="container-fluid">
            <div class="navbar-header">
  				<a class="navbar-brand" style="font-weight: 600;" href="/DocSystem/web/projects.html">
  					<i class="logo small"></i>
  					MxsDoc
  				</a>
                <a  id="projectName" class="navbar-brand" style="font-weight: 600; width: 50vw; white-space:nowrap; text-overflow: ellipsis; overflow: hidden;" href="">Repository Name</a>

	            <div class="btn-group dropdown-menu-right pull-right slidebar visible-xs-inline-block" style="right:12px; top:12px;">
	                <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" style="width:26px; height:26px; border-radius:13px;">
	                	<i class="icons plus" style="margin-left:-9px;margin-top:-3px;"></i>
	                </button>
	                <ul class="dropdown-menu" role="menu">
	                    <li>
	                    	<a onclick="newDocEx(1)">New File</a>
	                    </li>
						<li>
							<a onclick="newDocEx(2)">New Folder</a>
						</li>
						<li>
							<a onclick="uploadFilesEx();">Upload File</a>
						</li>
						<li>
							<a onclick="uploadDirEx()">Upload Folder</a>
						</li>
	                </ul>
	            </div>
            </div>

            <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                <ul class="nav navbar-nav navbar-right">
				    <li id="userImgDiv" style="display:none"><img id="userImg" name="userImg" width="40px" height="40px" src="images/default/defaultHeadPic.png" onerror="UserImgErrHandler();" class="img-circle m5"/></li>
					<li id="userInfoDiv" style="display:none">
							<a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span>Rainy</span><span class="caret"></span></a>
							<ul class="dropdown-menu" role="menu">
								<li><a href="/DocSystem/web/myHostPage_en.html">User Center</a></li>
								<li><a href="/DocSystem/web/shareManager_en.html">My Sharing</a></li>
								<li><a onclick="showReposManagerPage()">Repository Management</a></li>
								<li id="logoutBtn"><a onclick="userLogout()">Log Out</a></li>
							</ul>
					</li>
					<li id="modeSwitchBtn" style="display:none">
                        <a id="modeSwitchBtnText" onclick="switchShowMode()"  title="E-Book">Switch Mode</a>
                    </li>
					<li id="loginBtn">
                        <a onclick="showLoginPanel()"  title="Sign In">Sign In</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <article class="container-fluid manual-body">
        <div class="manual-left disallowcopy">
            <div class="manual-tab">
	            <div class="tab-navg" style="height:59px">
	         		<div style="padding:20px 0;position: relative; cursor: pointer; margin: 0 auto; width: 100px; display: block;">
	         			<a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
	         				<i class="glyphicon glyphicon-plus" style="zoom:1.2"></i>
	         				<span>Document</span>
	         				<span class="caret"></span>
	         			</a>
						<ul class="dropdown-menu" role="menu">
							<li><a onclick="newDocEx(1)">New File</a></li>
							<li><a onclick="newDocEx(2)">New Folder</a></li>

							<li><a onclick="uploadFilesEx();">Upload File</a></li>
							<li><a onclick="uploadDirEx()">Upload Folder</a></li>
						</ul>
	         		</div>
	         	</div>
                <div id="treeBody" class="tab-wrap">
                    <div class="tab-item manual-catalog" id="uuz">

                        <div class="catalog-list read-book-preview" id="tree">
                            <ul id="doctree" class="ztree" style="margin-bottom: 120px;"></ul>
                        </div>

                    </div>
                </div>
            </div>
			<div id="container" class="m-copyright" style="border-style:none;overflow:hidden;">
            </div>
        </div>
        <div id="line" class="manual-line" ></div>
        <div class="second-table disallowcopy"  id="secondDropZone">
         	<div class="searchBox">
         		<div class="back" onclick="backToParentDoc();">
         			<i class="backicon glyphicon glyphicon-arrow-left"></i>
         		</div>
         		<div class="content">
         			<i class="glyphicon glyphicon-search icon" onclick="searchDoc();"></i>
         			<input placeholder="keywords..." type="text" id="searchWord"/>
         			<span class="caret  pull-right  dropdown-toggle" data-toggle="dropdown" aria-expanded="false" style="margin-right:-9px;margin-top:-15px;"></span>
         			<ul class="dropdown-menu" style="left:160px">
         			        <li><a href="#" onclick="setSearchFolder('currentFolder')">Current Folder</a></li>
 		                    <li><a  href="#" onclick="setSearchFolder('all')">Whole Repository</a></li>
 		            </ul>
         		</div>
         		<div class="dropdown">
         			<a class="selecticon glyphicon glyphicon-align-justify dropdown-toggle" data-toggle="dropdown" aria-expanded="false"></a>
         			<ul class="dropdown-menu" style="left:210px">
 		                    <li><a href="#">Brief</a></li>
 		                    <li><a  href="#">List</a></li>
 		                    <li class="divider"></li>
 		                    <li><a  href="#" onclick="sortDocList('createTimeR')">Create Time</a></li>
 		                    <li><a  href="#" onclick="sortDocList('modifyTimeR')">Latest Modified Time</a></li>
 		                    <li><a  href="#" onclick="sortDocList('name')">Name</a></li>
 		                    <li><a  href="#" onclick="sortDocList('sizeR')">Size</a></li>
 		                    <li><a  href="#" onclick="sortDocList('')">Default</a></li>
 		                </ul>
         		</div>
         	</div>
         	<div id="secondListBody" class="second-list" style="padding-bottom: 120px;">
         		<ul id="secondList">
         		</ul>
         	</div>
         </div>
        <div id="second-line" class="second-line" ></div>

        <div class="manual-right">
            <div class="searchBox" style="white-space:nowrap">
         		<div class="back" onclick="backToParentDocEx();">
         			<i class="backicon glyphicon glyphicon-arrow-left"></i>
         		</div>
        		<div class="filetitle nowrap ellipsis" id="filetitle"></div>
         	</div>
            <div class="manual-article" id="previewZone">
				<!--文件轮播显示-->
				<div class="swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide">
							<div class="article-body editor-content"  id="docPreview" style="display:none;border-bottom: 1px solid #e0e1e5;">
								<div align=center style="margin-top:20px" >
									<!-- FileLogo Preview  -->
									<img id="fileLogo" name="fileLogo" src="" style="display:none; width:128px; height:128px;cursor:pointer;" onclick="DocOnClick();" ondblclick="DocOnDblClick();" onerror="FileLogoErrHandler();"></img>
									<!-- Picture Preview  -->
									<img id="imgPreview" name="imgPreview" src="" style="display:none; max-width:60%; max-height:60%;cursor:pointer;" onclick="DocOnClick();" ondblclick="DocOnDblClick();" onerror="FileImgErrHandler();"></img>
									<!-- Video Preview  -->
									<video id="videoPreview" class="video-js example_video_1-dimensions vjs-controls-enabled vjs-workinghover vjs-v7 vjs-has-started vjs-user-inactive vjs-paused vjs-ended"
										   webkit-playsinline="" x-webkit-airplay="allow" playsinline="" controls
										   crossorigin="anonymous"
										   style="display:none;"></video>
									<!-- Audio Preview  -->
									<div id="audioPreview" style="display:none;">
										<div id="jquery_jplayer_1" class="jp-jplayer"></div>
										<div id="jp_container_1" class="jp-audio" role="application" aria-label="media player">
											<div class="jp-type-single">
												<div class="jp-gui jp-interface">
													<div class="jp-controls">
														<button class="jp-play" role="button" tabindex="0">play</button>
														<button class="jp-stop" role="button" tabindex="0">stop</button>
													</div>
													<div class="jp-progress">
														<div class="jp-seek-bar">
															<div class="jp-play-bar"></div>
														</div>
													</div>
													<div class="jp-volume-controls">
														<button class="jp-mute" role="button" tabindex="0">mute</button>
														<button class="jp-volume-max" role="button" tabindex="0">max volume</button>
														<div class="jp-volume-bar">
															<div class="jp-volume-bar-value"></div>
														</div>
													</div>
													<div class="jp-time-holder">
														<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>
														<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>
														<div class="jp-toggles">
															<button class="jp-repeat" role="button" tabindex="0">repeat</button>
														</div>
													</div>
												</div>
												<div class="jp-details">
													<div class="jp-title" aria-label="title">&nbsp;</div>
												</div>
												<div class="jp-no-solution">
													<span>Update Required</span>
													To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="swiper-button-prev" style="color: #007aff" onclick="gotoPreviousDoc()"></div>
					<div class="swiper-button-next" style="color: #007aff" onclick="gotoNextDoc()"></div>
				</div>
                <div class="article-body editor-content" style="min-height: 650px;">
                	<div  id="vdocPreview"></div>
                </div>
            </div>
        </div>
        <div id="downloadBox" class="downloadBox ">
			<ul style="display:none" class="el-download-list el-download-list--text">
			</ul>
		</div>        
        <div id="uploadBox" class="uploadBox ">
			<ul id="uploadList" style="display:none" class="el-upload-list el-upload-list--text">
			</ul>
		</div>
        <div class="manual-progress"><b class="progress-bar"></b></div>
    </article>
    <div class="manual-mask"></div>
</div>

<!-- 全屏遮罩 -->
<div id="statusDiv" style="display:none">
	<p>Uploading...</p>
</div>

<div id="downloadConfirmDialog" style="display:none">
    <div class="modal-body">
        <div class="form-group">
            <label class="col-sm-2 control-label">FileName : </label>
            <div class="col-sm-10">
                <input type="text" value="" class="form-control" name="entryPath" title="download">
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<div id="revertConfirmDialog" style="display:none">
    <div class="modal-body">
        <div class="form-group">
            <label class="col-sm-2 control-label">FileName</label>
            <div class="col-sm-10">
                <input type="text" value="" class="form-control" name="entryPath" title="revert">
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>

<div  style="opacity: 0;position: absolute;">
	<textarea id="copiedText"></textarea>
</div>

<!-- multiple file and dir upload triger div -->
<div style="display:none">
	<input id="checkInFile" name="checkInFile" type="file" onchange="checkInUploadConfirm(event)"/>
	<input id="uploadFiles" name="uploadFiles" type="file" onchange="selectUploadConfirm(event)" multiple="multiple"/>
	<input id="uploadDir" type="file" onchange="selectUploadConfirm(event)" webkitdirectory>
</div>
<!-- single file upload form -->
<div style="display:none">
	<form id="FileUploadForm" action="/DocSystem/Doc/uploadDoc.do" method="post" enctype="multipart/form-data">
		<!-- TODO 这里看一下，无引用是否可以去掉-->
		<input id="uploadFile" name="uploadFile" type="file" class="fLeft"/>  <!--/$("#imgPreview").show(); multiple="multiple"/>-->
		<input type="text" value="0" id="reposId" name="reposId" title="Repository"/>
		<input type="text" value="0" id="parentId" name="parentId" title="Folder"/>
		<input type="text" value="-1" id="docId" name="docId" title="Document"/>
		<input type="text" value="1" id="uploadType" name="uploadType" title="uploadType：1 File 2 Folder"/>
	</form>
</div>
<script type="text/javascript" src="project.js"></script>
</body>
</html>
